(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{18041:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,81356,23)),Promise.resolve().then(n.bind(n,43499))},18905:(e,t,n)=>{"use strict";n.d(t,{cn:()=>o});var a=n(2821),r=n(75889);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.QP)((0,a.$)(t))}},21557:(e,t,n)=>{"use strict";n.d(t,{v:()=>u,S:()=>l});var a=n(80549),r=n(30926);let o=(0,r.createServerReference)("40a113b6a62d9ae7028b499453115d5277dd505fcf",r.callServer,void 0,r.findSourceMapURL,"login"),s=(0,r.createServerReference)("40161f45cedfa62615aeeda551c4390e763817c31f",r.callServer,void 0,r.findSourceMapURL,"signup");var i=n(20063),c=n(58192);function u(){let e=(0,i.useRouter)();return(0,a.useMutation)({mutationFn:o,onSuccess:t=>{t.success&&t.token&&(c.uE.setAuthToken(t.token),e.push("/dashboard"))},onError:e=>{}})}function l(){let e=(0,i.useRouter)();return(0,a.useMutation)({mutationFn:s,onSuccess:t=>{t.success&&t.token&&(c.uE.setAuthToken(t.token),e.push("/dashboard"))},onError:e=>{}})}},43499:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LoginForm:()=>f});var a=n(95155),r=n(18905),o=n(99772),s=n(95840),i=n(97892),c=n(22544),u=n(66942),l=n(98562),d=n(52619),m=n.n(d),p=n(21557);function f(e){let{className:t,...n}=e,{mutate:d,isPending:f,isError:g,error:h}=(0,p.v)(),v=(0,c.mN)({resolver:(0,u.u)(i.X),defaultValues:{email:"",password:""}});return(0,a.jsx)(l.Form,{...v,children:(0,a.jsxs)("form",{className:(0,r.cn)("flex flex-col gap-6",t),onSubmit:v.handleSubmit(e=>{d(e)}),...n,children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Log in op je account"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm text-balance",children:"Vul hieronder je e-mailadres in om in te loggen"})]}),(0,a.jsxs)("div",{className:"grid gap-6",children:[(0,a.jsx)(l.FormField,{control:v.control,name:"email",render:e=>{let{field:t}=e;return(0,a.jsxs)(l.FormItem,{children:[(0,a.jsx)(l.FormLabel,{children:"Email"}),(0,a.jsx)(l.FormControl,{children:(0,a.jsx)(s.p,{type:"email",placeholder:"m@example.com",autoComplete:"email",...t})}),(0,a.jsx)(l.FormMessage,{})]})}}),(0,a.jsx)(l.FormField,{control:v.control,name:"password",render:e=>{let{field:t}=e;return(0,a.jsxs)(l.FormItem,{children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(l.FormLabel,{children:"Wachtwoord"})}),(0,a.jsx)(l.FormControl,{children:(0,a.jsx)(s.p,{type:"password",autoComplete:"current-password",...t})}),(0,a.jsx)(l.FormMessage,{})]})}}),g&&(0,a.jsx)("div",{className:"text-red-700",children:h.message}),(0,a.jsx)(o.$,{type:"submit",className:"w-full",disabled:f,children:f?"Inloggen...":"Inloggen"})]}),(0,a.jsxs)("div",{className:"text-center text-sm ",children:[(0,a.jsx)("span",{className:"mr-1",children:"Heb je nog geen account?"}),(0,a.jsx)(m(),{href:"/signup",className:"underline underline-offset-4",children:"Registreer"})]})]})})}},58192:(e,t,n)=>{"use strict";n.d(t,{uE:()=>Y});let a="https://projectmanagement-mi.azurewebsites.net";async function r(){return localStorage.getItem("auth_token")}function o(e){localStorage.setItem("auth_token",e),document.cookie="auth_token=".concat(e,"; path=/; max-age=").concat(604800,"; SameSite=Strict")}function s(){localStorage.removeItem("auth_token"),document.cookie="auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"}async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(a).concat(e),o=await r(),i={"Content-Type":"application/json",...o&&{Authorization:"Bearer ".concat(o)},...t.headers},c={...t,headers:i};try{let e=await fetch(n,c);if(!e.ok){if(401===e.status)throw s(),window.location.href="/login",Error("Session expired. Please log in again.");let t="HTTP ".concat(e.status,": ").concat(e.statusText);try{t=(await e.json()).message||t}catch(e){}throw Error(t)}let t=e.headers.get("content-type");if(t&&t.includes("application/json"))return e.json();return{}}catch(e){throw console.error("API Request failed:",e),e}}async function c(e){return i(e,{method:"GET"})}async function u(e,t){return i(e,{method:"POST",body:JSON.stringify(t)})}async function l(e,t){return i(e,{method:"PUT",body:JSON.stringify(t)})}async function d(e,t){return i(e,{method:"PATCH",body:JSON.stringify(t)})}async function m(e){return i(e,{method:"DELETE"})}async function p(e){return u("/api/auth/login",e)}async function f(e){return u("/api/auth/register",e)}async function g(){return c("/api/workspace")}async function h(e){return c("/api/workspace/".concat(e))}async function v(e){return u("/api/workspace",e)}async function x(e,t){return l("/api/workspace/".concat(e),t)}async function b(e){return m("/api/workspace/".concat(e))}async function w(e){return c("/api/workspaces/".concat(e,"/columns"))}async function y(e,t){return c("/api/workspaces/".concat(e,"/columns/").concat(t))}async function k(e,t){return u("/api/workspaces/".concat(e,"/columns"),t)}async function j(e,t,n){return l("/api/workspaces/".concat(e,"/columns/").concat(t),n)}async function F(e,t){return m("/api/workspaces/".concat(e,"/columns/").concat(t))}async function N(e){return c("/api/workspaces/".concat(e,"/tasks"))}async function E(e,t){return c("/api/workspaces/".concat(e,"/tasks/").concat(t))}async function S(e,t,n){return u("/api/workspaces/".concat(e,"/tasks?columnId=").concat(t),n)}async function T(e,t,n){return l("/api/workspaces/".concat(e,"/tasks/").concat(t),n)}async function P(e,t){return m("/api/workspaces/".concat(e,"/tasks/").concat(t))}async function I(e,t,n){return u("/api/workspaces/".concat(e,"/tasks/").concat(t,"/assignees/").concat(n),{})}async function A(e,t,n){return u("/api/workspaces/".concat(e,"/tasks/").concat(t,"/tags/").concat(n),{})}async function _(){return c("/api/tag")}async function C(e){return c("/api/tag/".concat(e))}async function z(e){return u("/api/tag",e)}async function D(e,t){return l("/api/tag/".concat(e),t)}async function L(e){return m("/api/tag/".concat(e))}async function R(){return c("/api/assignee")}async function M(e){return c("/api/assignee/".concat(e))}async function O(e){return u("/api/assignee",e)}async function W(e,t){return l("/api/assignee/".concat(e),t)}async function B(e){return m("/api/assignee/".concat(e))}async function V(){return c("/api/auth/me")}async function U(e,t){return d("/api/workspaces/".concat(e,"/columns/positions"),t)}async function J(e){return d("/api/workspace/positions",e)}async function X(e,t){return d("/api/workspaces/".concat(e,"/tasks/positions"),t)}let Y={get:c,post:u,put:l,patch:d,del:m,uploadFile:async function e(e,t){let n="".concat(a).concat(e),o=await r(),s=new FormData;s.append("file",t);let i=await fetch(n,{method:"POST",body:s,headers:{...o&&{Authorization:"Bearer ".concat(o)}}});if(!i.ok)throw Error("Upload failed: ".concat(i.statusText));return i.json()},login:p,register:f,registerWithFile:async function e(e){let t=await r(),n=new FormData;n.append("Email",e.email),n.append("Password",e.password),n.append("FullName",e.fullName),e.avatarFile&&n.append("AvatarFile",e.avatarFile);let s={...t&&{Authorization:"Bearer ".concat(t)}},i=await fetch("".concat(a,"/api/auth/register"),{method:"POST",headers:s,body:n});if(!i.ok)throw Error("Registration failed: ".concat(i.statusText));let c=await i.json();return c.token&&o(c.token),c},logout:function(){s(),window.location.href="/login"},getCurrentUser:V,getWorkspaces:g,getWorkspaceById:h,createWorkspace:v,updateWorkspace:x,deleteWorkspace:b,batchUpdateWorkspacePositions:J,getWorkspaceColumns:w,getColumnById:y,createColumn:k,updateColumn:j,deleteColumn:F,batchUpdateColumnPositions:U,getWorkspaceTasks:N,getTaskById:E,createTask:S,updateTask:T,deleteTask:P,addAssigneeToTask:I,removeAssigneeFromTask:async function(e,t,n){return i("/api/workspaces/".concat(e,"/tasks/").concat(t,"/assignees/").concat(n),{method:"DELETE"})},addTagToTask:A,removeTagFromTask:async function(e,t,n){return i("/api/workspaces/".concat(e,"/tasks/").concat(t,"/tags/").concat(n),{method:"DELETE"})},batchUpdateTaskPositions:X,getTags:_,getTagById:C,createTag:z,updateTag:D,deleteTag:L,getAssignees:R,getAssigneeById:M,createAssignee:O,createAssigneeWithFile:async function(e){let t=await r(),n=new FormData;n.append("name",e.name),e.avatarFile&&n.append("avatarFile",e.avatarFile);let o={...t&&{Authorization:"Bearer ".concat(t)}},s=await fetch("".concat(a,"/api/assignee"),{method:"POST",headers:o,body:n});if(!s.ok)throw Error("Assignee creation failed: ".concat(s.statusText));return s.json()},updateAssignee:W,updateAssigneeWithFile:async function(e,t){let n="".concat(a,"/api/assignee/").concat(e),o=await r(),s=new FormData;s.append("name",t.name),t.avatarFile&&s.append("avatarFile",t.avatarFile);let i={...o&&{Authorization:"Bearer ".concat(o)}},c=await fetch(n,{method:"PUT",headers:i,body:s});if(!c.ok)throw Error("Assignee update failed: ".concat(c.statusText));return c.json()},deleteAssignee:B,setAuthToken:o,removeAuthToken:s}},61118:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Label:()=>s});var a=n(95155);n(12115);var r=n(10489),o=n(18905);function s(e){let{className:t,...n}=e;return(0,a.jsx)(r.b,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...n})}},95840:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var a=n(95155);n(12115);var r=n(18905);function o(e){let{className:t,type:n,...o}=e;return(0,a.jsx)("input",{type:n,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...o})}},97892:(e,t,n)=>{"use strict";n.d(t,{S:()=>s,X:()=>o});var a=n(72377);let r=["image/jpeg","image/jpg","image/png","image/webp"],o=a.Ik({email:a.Rp("Voer een geldige email in"),password:a.Yj().min(8,"Wachtwoord moet minstens 8 karakters hebben")}),s=a.Ik({fullName:a.Yj().min(2,"Volledige naam moet minstens 2 karakters hebben"),email:a.Rp("Voer een geldige email in"),password:a.Yj().min(8,"Wachtwoord moet minstens 8 karakters hebben"),confirmPassword:a.Yj().min(8,"Wachtwoord moet minstens 8 karakters hebben"),avatarFile:a.Nl(File).optional().refine(e=>!e||e.size<=5242880,"De maximale bestandsgrootte is 5MB.").refine(e=>!e||r.includes(e.type))}).refine(e=>e.password===e.confirmPassword,{message:"Wachtwoorden komen niet overeen",path:["confirmPassword"]})},98562:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Form:()=>u,FormControl:()=>h,FormDescription:()=>v,FormField:()=>d,FormItem:()=>f,FormLabel:()=>g,FormMessage:()=>x,useFormField:()=>m});var a=n(95155),r=n(12115),o=n(32467),s=n(22544),i=n(18905),c=n(61118);let u=s.Op,l=r.createContext({}),d=e=>{let{...t}=e;return(0,a.jsx)(l.Provider,{value:{name:t.name},children:(0,a.jsx)(s.xI,{...t})})},m=()=>{let e=r.useContext(l),t=r.useContext(p),{getFieldState:n}=(0,s.xW)(),a=(0,s.lN)({name:e.name}),o=n(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...o}},p=r.createContext({});function f(e){let{className:t,...n}=e,o=r.useId();return(0,a.jsx)(p.Provider,{value:{id:o},children:(0,a.jsx)("div",{"data-slot":"form-item",className:(0,i.cn)("grid gap-2",t),...n})})}function g(e){let{className:t,...n}=e,{error:r,formItemId:o}=m();return(0,a.jsx)(c.Label,{"data-slot":"form-label","data-error":!!r,className:(0,i.cn)("data-[error=true]:text-destructive",t),htmlFor:o,...n})}function h(e){let{...t}=e,{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=m();return(0,a.jsx)(o.DX,{"data-slot":"form-control",id:r,"aria-describedby":n?"".concat(s," ").concat(i):"".concat(s),"aria-invalid":!!n,...t})}function v(e){let{className:t,...n}=e,{formDescriptionId:r}=m();return(0,a.jsx)("p",{"data-slot":"form-description",id:r,className:(0,i.cn)("text-muted-foreground text-sm",t),...n})}function x(e){var t;let{className:n,...r}=e,{error:o,formMessageId:s}=m(),c=o?String(null!=(t=null==o?void 0:o.message)?t:""):r.children;return c?(0,a.jsx)("p",{"data-slot":"form-message",id:s,className:(0,i.cn)("text-destructive text-sm",n),...r,children:c}):null}},99772:(e,t,n)=>{"use strict";n.d(t,{$:()=>c,r:()=>i});var a=n(95155);n(12115);var r=n(32467),o=n(83101),s=n(18905);let i=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:n,size:o,asChild:c=!1,...u}=e,l=c?r.DX:"button";return(0,a.jsx)(l,{"data-slot":"button",className:(0,s.cn)(i({variant:n,size:o,className:t})),...u})}}},e=>{e.O(0,[106,436,218,441,255,358],()=>e(e.s=18041)),_N_E=e.O()}]);