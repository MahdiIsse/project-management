"use strict";exports.id=176,exports.ids=[176],exports.modules={18909:(a,b,c)=>{c.r(b),c.d(b,{LoginForm:()=>o});var d=c(21124),e=c(76493),f=c(44440),g=c(59722),h=c(52064),i=c(31980),j=c(50937),k=c(31046),l=c(3991),m=c.n(l),n=c(98889);function o({className:a,...b}){let{mutate:c,isPending:l,isError:o,error:p}=(0,n.v)(),q=(0,i.mN)({resolver:(0,j.u)(h.X),defaultValues:{email:"",password:""}});return(0,d.jsx)(k.Form,{...q,children:(0,d.jsxs)("form",{className:(0,e.cn)("flex flex-col gap-6",a),onSubmit:q.handleSubmit(a=>{c(a)}),...b,children:[(0,d.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold",children:"Log in op je account"}),(0,d.jsx)("p",{className:"text-muted-foreground text-sm text-balance",children:"Vul hieronder je e-mailadres in om in te loggen"})]}),(0,d.jsxs)("div",{className:"grid gap-6",children:[(0,d.jsx)(k.FormField,{control:q.control,name:"email",render:({field:a})=>(0,d.jsxs)(k.FormItem,{children:[(0,d.jsx)(k.FormLabel,{children:"Email"}),(0,d.jsx)(k.FormControl,{children:(0,d.jsx)(g.p,{type:"email",placeholder:"m@example.com",autoComplete:"email",...a})}),(0,d.jsx)(k.FormMessage,{})]})}),(0,d.jsx)(k.FormField,{control:q.control,name:"password",render:({field:a})=>(0,d.jsxs)(k.FormItem,{children:[(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsx)(k.FormLabel,{children:"Wachtwoord"})}),(0,d.jsx)(k.FormControl,{children:(0,d.jsx)(g.p,{type:"password",autoComplete:"current-password",...a})}),(0,d.jsx)(k.FormMessage,{})]})}),o&&(0,d.jsx)("div",{className:"text-red-700",children:p.message}),(0,d.jsx)(f.$,{type:"submit",className:"w-full",disabled:l,children:l?"Inloggen...":"Inloggen"})]}),(0,d.jsxs)("div",{className:"text-center text-sm ",children:[(0,d.jsx)("span",{className:"mr-1",children:"Heb je nog geen account?"}),(0,d.jsx)(m(),{href:"/signup",className:"underline underline-offset-4",children:"Registreer"})]})]})})}},50806:(a,b,c)=>{c.r(b),c.d(b,{"40161f45cedfa62615aeeda551c4390e763817c31f":()=>m,"40a113b6a62d9ae7028b499453115d5277dd505fcf":()=>l});var d=c(91488);c(27806);let e="https://projectmanagement-mi.azurewebsites.net";async function f(){return null}async function g(a,b={}){let c=`${e}${a}`,d=await f(),h={"Content-Type":"application/json",...d&&{Authorization:`Bearer ${d}`},...b.headers},i={...b,headers:h};try{let a=await fetch(c,i);if(!a.ok){if(401===a.status)throw Error("Session expired. Please log in again.");let b=`HTTP ${a.status}: ${a.statusText}`;try{b=(await a.json()).message||b}catch{}throw Error(b)}let b=a.headers.get("content-type");if(b&&b.includes("application/json"))return a.json();return{}}catch(a){throw console.error("API Request failed:",a),a}}async function h(a,b){return g(a,{method:"POST",body:JSON.stringify(b)})}async function i(a){return h("/api/auth/login",a)}async function j(a){var b;let c=`${e}/api/auth/register`,d=await f(),g=new FormData;g.append("Email",a.email),g.append("Password",a.password),g.append("FullName",a.fullName),a.avatarFile&&g.append("AvatarFile",a.avatarFile);let h={...d&&{Authorization:`Bearer ${d}`}},i=await fetch(c,{method:"POST",headers:h,body:g});if(!i.ok)throw Error(`Registration failed: ${i.statusText}`);let j=await i.json();return j.token&&(b=j.token),j}let k={login:i,registerWithFile:j};async function l(a){try{let b=await k.login({email:a.email,password:a.password});return{success:!0,token:b.token,expiresAt:b.expiresAtUtc}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Login failed"}}}async function m(a){try{let b=await k.registerWithFile({email:a.email,password:a.password,fullName:a.fullName,avatarFile:a.avatarFile});return{success:!0,token:b.token,expiresAt:b.expiresAtUtc}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Registration failed"}}}(0,c(40410).D)([l,m]),(0,d.A)(l,"40a113b6a62d9ae7028b499453115d5277dd505fcf",null),(0,d.A)(m,"40161f45cedfa62615aeeda551c4390e763817c31f",null)},52064:(a,b,c)=>{c.d(b,{S:()=>g,X:()=>f});var d=c(56736);let e=["image/jpeg","image/jpg","image/png","image/webp"],f=d.Ik({email:d.Rp("Voer een geldige email in"),password:d.Yj().min(8,"Wachtwoord moet minstens 8 karakters hebben")}),g=d.Ik({fullName:d.Yj().min(2,"Volledige naam moet minstens 2 karakters hebben"),email:d.Rp("Voer een geldige email in"),password:d.Yj().min(8,"Wachtwoord moet minstens 8 karakters hebben"),confirmPassword:d.Yj().min(8,"Wachtwoord moet minstens 8 karakters hebben"),avatarFile:d.Nl(File).optional().refine(a=>!a||a.size<=5242880,"De maximale bestandsgrootte is 5MB.").refine(a=>!a||e.includes(a.type))}).refine(a=>a.password===a.confirmPassword,{message:"Wachtwoorden komen niet overeen",path:["confirmPassword"]})},64531:(a,b,c)=>{c.r(b),c.d(b,{LoginForm:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call LoginForm() from the server but LoginForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mahdiisse/project-management-v2/apps/frontend/src/features/auth/components/LoginForm.tsx","LoginForm")},98889:(a,b,c)=>{c.d(b,{v:()=>j,S:()=>k});var d=c(72124),e=c(85708);let f=(0,e.createServerReference)("40a113b6a62d9ae7028b499453115d5277dd505fcf",e.callServer,void 0,e.findSourceMapURL,"login"),g=(0,e.createServerReference)("40161f45cedfa62615aeeda551c4390e763817c31f",e.callServer,void 0,e.findSourceMapURL,"signup");var h=c(42378),i=c(27442);function j(){let a=(0,h.useRouter)();return(0,d.useMutation)({mutationFn:f,onSuccess:b=>{b.success&&b.token&&(i.uE.setAuthToken(b.token),a.push("/dashboard"))},onError:a=>{}})}function k(){let a=(0,h.useRouter)();return(0,d.useMutation)({mutationFn:g,onSuccess:b=>{b.success&&b.token&&(i.uE.setAuthToken(b.token),a.push("/dashboard"))},onError:a=>{}})}}};